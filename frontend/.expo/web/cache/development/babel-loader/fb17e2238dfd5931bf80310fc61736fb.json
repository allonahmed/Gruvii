{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport data from \"../../assets/data/postdata.json.js\";\nimport Post from \"./PostCard.js\";\nimport dateFormat from \"../../helpers/dateFormat.js\";\nimport { updatePost } from \"../../redux/reducers.js\";\nimport { filterByTime } from \"../../helpers/sortData.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function PostContent() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedPost = _useState2[0],\n      setSelected = _useState2[1];\n\n  var state = useSelector(function (state) {\n    return state.reduxStore;\n  });\n  var dispatch = useDispatch();\n\n  var RenderPost = function RenderPost(_ref) {\n    var item = _ref.item;\n    var bg = item.id === selectedPost ? \"#ffffff\" : \"#f8f8f8\";\n\n    var validCount = function validCount() {\n      return state.posts.length > 0;\n    };\n\n    return _jsx(Post, {\n      item: item,\n      backgroundColor: {\n        bg: bg\n      },\n      validCount: validCount,\n      query: state.query\n    });\n  };\n\n  console.log(filterByTime(JSON.parse(data)));\n  return _jsx(SafeAreaView, {\n    style: styles.postContainer,\n    contentContainerStyle: {\n      flexGrow: 1,\n      alignItems: \"center\",\n      width: \"100%\"\n    },\n    children: _jsx(FlatList, {\n      data: state.posts,\n      renderItem: RenderPost,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      extraData: [selectedPost, state.posts]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  postContainer: {\n    flexDirection: \"row\",\n    width: \"100%\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","data","Post","dateFormat","updatePost","filterByTime","PostContent","selectedPost","setSelected","state","reduxStore","dispatch","RenderPost","item","bg","id","validCount","posts","length","query","console","log","JSON","parse","styles","postContainer","flexGrow","alignItems","width","StyleSheet","create","flexDirection"],"sources":["/Users/allon/native/Tutorial/frontend/screens/home/PostContent.js"],"sourcesContent":["import { StyleSheet, FlatList, SafeAreaView } from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport data from \"../../assets/data/postdata.json.js\";\nimport Post from \"./PostCard.js\";\n\nimport dateFormat from \"../../helpers/dateFormat.js\";\nimport { updatePost } from \"../../redux/reducers.js\";\nimport { filterByTime } from \"../../helpers/sortData.js\";\n\nexport default function PostContent() {\n  const [selectedPost, setSelected] = useState(null);\n  const state = useSelector((state) => state.reduxStore);\n  const dispatch = useDispatch();\n\n  // useEffect(() => {\n  //   console.log(state);\n  // }, [state]);\n\n  const RenderPost = ({ item }) => {\n    const bg = item.id === selectedPost ? \"#ffffff\" : \"#f8f8f8\";\n    const validCount = () => {\n      return state.posts.length > 0;\n    };\n    return (\n      <Post\n        item={item}\n        // onPress={() => setSelected(item.id)}\n        backgroundColor={{ bg }}\n        validCount={validCount}\n        query={state.query}\n      />\n    );\n  };\n  // let sorted = JSON.parse(data)\n  //   .slice()\n  //   .sort((a, b) => {\n  //     dateFormat(b.date_posted) - dateFormat(a.date_posted);\n  //   });\n\n  console.log(filterByTime(JSON.parse(data)));\n\n  // useEffect(() => {\n  //   console.log(query);\n  //   let newPost;\n  //   const filterquery = (q) => {\n  //     if (\n  //       q.post.toLowerCase().includes(query.toLowerCase()) ||\n  //       q.first_name.toLowerCase().includes(query.toLowerCase()) ||\n  //       q.last_name.toLowerCase().includes(query.toLowerCase())\n  //     )\n  //       return true;\n  //     else return false;\n  //   };\n  //   if (query.length > 0) {\n  //     newPost = JSON.parse(data).filter(filterquery);\n  //     dispatch(updatePost(newPost));\n  //   }\n  // }, [query]);\n\n  return (\n    <SafeAreaView\n      style={styles.postContainer}\n      contentContainerStyle={{\n        flexGrow: 1,\n        alignItems: \"center\",\n        width: \"100%\"\n      }}\n    >\n      <FlatList\n        data={state.posts}\n        renderItem={RenderPost}\n        keyExtractor={(item) => item.id}\n        extraData={[selectedPost, state.posts]}\n      />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  postContainer: {\n    // flex: 1,\n    flexDirection: \"row\",\n    width: \"100%\"\n  }\n});\n"],"mappings":";;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,IAAP;AACA,OAAOC,IAAP;AAEA,OAAOC,UAAP;AACA,SAASC,UAAT;AACA,SAASC,YAAT;;AAEA,eAAe,SAASC,WAAT,GAAuB;EACpC,gBAAoCR,QAAQ,CAAC,IAAD,CAA5C;EAAA;EAAA,IAAOS,YAAP;EAAA,IAAqBC,WAArB;;EACA,IAAMC,KAAK,GAAGV,WAAW,CAAC,UAACU,KAAD;IAAA,OAAWA,KAAK,CAACC,UAAjB;EAAA,CAAD,CAAzB;EACA,IAAMC,QAAQ,GAAGX,WAAW,EAA5B;;EAMA,IAAMY,UAAU,GAAG,SAAbA,UAAa,OAAc;IAAA,IAAXC,IAAW,QAAXA,IAAW;IAC/B,IAAMC,EAAE,GAAGD,IAAI,CAACE,EAAL,KAAYR,YAAZ,GAA2B,SAA3B,GAAuC,SAAlD;;IACA,IAAMS,UAAU,GAAG,SAAbA,UAAa,GAAM;MACvB,OAAOP,KAAK,CAACQ,KAAN,CAAYC,MAAZ,GAAqB,CAA5B;IACD,CAFD;;IAGA,OACE,KAAC,IAAD;MACE,IAAI,EAAEL,IADR;MAGE,eAAe,EAAE;QAAEC,EAAE,EAAFA;MAAF,CAHnB;MAIE,UAAU,EAAEE,UAJd;MAKE,KAAK,EAAEP,KAAK,CAACU;IALf,EADF;EASD,CAdD;;EAqBAC,OAAO,CAACC,GAAR,CAAYhB,YAAY,CAACiB,IAAI,CAACC,KAAL,CAAWtB,IAAX,CAAD,CAAxB;EAoBA,OACE,KAAC,YAAD;IACE,KAAK,EAAEuB,MAAM,CAACC,aADhB;IAEE,qBAAqB,EAAE;MACrBC,QAAQ,EAAE,CADW;MAErBC,UAAU,EAAE,QAFS;MAGrBC,KAAK,EAAE;IAHc,CAFzB;IAAA,UAQE,KAAC,QAAD;MACE,IAAI,EAAEnB,KAAK,CAACQ,KADd;MAEE,UAAU,EAAEL,UAFd;MAGE,YAAY,EAAE,sBAACC,IAAD;QAAA,OAAUA,IAAI,CAACE,EAAf;MAAA,CAHhB;MAIE,SAAS,EAAE,CAACR,YAAD,EAAeE,KAAK,CAACQ,KAArB;IAJb;EARF,EADF;AAiBD;AAED,IAAMO,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;EAC/BL,aAAa,EAAE;IAEbM,aAAa,EAAE,KAFF;IAGbH,KAAK,EAAE;EAHM;AADgB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}